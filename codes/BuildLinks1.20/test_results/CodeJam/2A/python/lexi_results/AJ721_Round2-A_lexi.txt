def who_wins lft rt if lft == rt return none if lft == p and rt == s return s if lft == s and rt == r return r if lft == r and rt == p return p return who_wins rt lft 		7 16
def do_case n r p s global cache cache = dict bv = none for ch in choices gv = best_tournament n r p s ch if bv is none or gv is not none and gv < bv bv = gv if bv is none return impossible return bv 		59 70
def best_tournament n r p s winner if n == 1 if winner == r if r > 0 return r else return none if winner == p if p > 0 return p else return none if winner == s if s > 0 return s else return none if r p s winner in cache return cache get r p s winner best = none for lft in choices for rt in choices win = who_wins lft rt if win is not none and win == winner for rs in xrange min r n / 2 + 1 for ps in xrange min p n / 2 - rs + 1 ss = n / 2 - ps - rs if ss >= 0 and ss <= s bl = best_tournament n / 2 rs ps ss lft if bl is not none br = best_tournament n / 2 r - rs p - ps s - ss rt if bl is not none and br is not none next = bl + br if best is none or next < best best = next cache r p s winner = best return best 		18 57
