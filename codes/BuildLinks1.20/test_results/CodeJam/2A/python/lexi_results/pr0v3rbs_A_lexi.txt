def getresult n l result = if n > 1 and l 0 == 0 and l 1 == l 2 return impossible elif l 0 == 0 and l 1 == 0 return impossible elif l 1 == 0 and l 2 == 0 return impossible elif l 0 == 0 and l 2 == 0 return impossible elif n > 1 and l 1 == 0 and l 0 == l 2 return impossible elif n > 1 and l 2 == 0 and l 0 == l 1 return impossible c = 0 p 1 r 2 s for i in range 3 if l i > 0 choice = i result += c i l i -= 1 break while sum l != 0 choice = choice + 1 % 3 while l choice == 0 choice = choice + 1 % 3 if l choice == 1 and l choice + 1 % 3 == 2 and l choice + 2 % 3 == 0 choice = choice + 1 % 3 result += c choice l choice -= 1 return result 		38 73
def check s result = true l = for i in s l append i l2 = while len l != 1 l2 = for i in range len l / 2 if l i * 2 == l i * 2 + 1 l2 append l i * 2 l2 append l i * 2 + 1 result = false break else if l i * 2 == p and l i * 2 + 1 == r l2 append p elif l i * 2 == p and l i * 2 + 1 == s l2 append s elif l i * 2 == r and l i * 2 + 1 == p l2 append p elif l i * 2 == r and l i * 2 + 1 == s l2 append r elif l i * 2 == s and l i * 2 + 1 == p l2 append s elif l i * 2 == s and l i * 2 + 1 == r l2 append r if len l % 2 == 1 l2 append l - 1 if len l == len l2 result = false break l = l2 return result 		3 36
