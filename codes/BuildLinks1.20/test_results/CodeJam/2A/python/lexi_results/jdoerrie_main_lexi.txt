def init for i in range 3 state = 0 0 0 state i = 1 state = tuple state for j in range 12 state = gen_state state states_to_winner state = i 		59 67
def main init t = int input for t in range t print case #{}: {} format t + 1 solve 		70 74
def gen_state state new_state = list state new_state 0 += state 1 new_state 1 += state 2 new_state 2 += state 0 return tuple new_state 		9 17
def solve n r p s = map int input split assert 2 ** n == r + p + s state = r p s if state not in states_to_winner return no winner = states_to_winner state tourney = rps winner for i in range n rnd = for c in tourney if c == r rnd += rs elif c == s rnd += sp else rnd += pr tourney = rnd assert len tourney == 2 ** n for i in range n batch = 2 ** i nrnd = okay = false for j in range 0 2 ** n 2 * batch a = tourney j j + batch b = tourney j + batch j + 2 * batch nrnd += min a b + max a b okay = true if okay tourney = nrnd return tourney 		20 56
