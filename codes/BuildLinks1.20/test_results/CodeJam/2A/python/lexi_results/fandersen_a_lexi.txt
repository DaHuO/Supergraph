def check s while len s != 1 news = for i in range 0 len s 2 if s i == s i + 1 return false elif s i == r and s i + 1 == p news += p elif s i == p and s i + 1 == r news += p elif s i == r and s i + 1 == s news += r elif s i == s and s i + 1 == r news += r elif s i == p and s i + 1 == s news += s elif s i == s and s i + 1 == p news += s s = news return true 		6 27
def reader in_file return in_file getints 		2 3
def solver n r p s string = r * r + p * p + s * s assert len string == 2 ** n hmm = filter check permutations string len string if len hmm == 0 return impossible hmm sort return join hmm 0 		30 38
