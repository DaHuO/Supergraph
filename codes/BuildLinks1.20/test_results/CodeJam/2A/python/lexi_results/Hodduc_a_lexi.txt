def tr n ch if n == 0 return ch if ch == p l r = tr n - 1 p tr n - 1 r elif ch == r l r = tr n - 1 s tr n - 1 r else l r = tr n - 1 p tr n - 1 s if l > r return r + l else return l + r 		8 22
def main t = input for t in range 1 t + 1 n r p s = map int raw_input split def tr n ch if n == 0 return ch if ch == p l r = tr n - 1 p tr n - 1 r elif ch == r l r = tr n - 1 s tr n - 1 r else l r = tr n - 1 p tr n - 1 s if l > r return r + l else return l + r ans = none x = tr n p if x count p == p and x count r == r and x count s == s ans = x x = tr n r if x count p == p and x count r == r and x count s == s if ans is none or ans > x ans = x x = tr n s if x count p == p and x count r == r and x count s == s if ans is none or ans > x ans = x if ans == none print case #%d: impossible % t else print case #%d: %s % t ans 		1 43
