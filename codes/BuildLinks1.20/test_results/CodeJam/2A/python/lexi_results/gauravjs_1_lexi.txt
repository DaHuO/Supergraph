def order2 p order ordering = if order == 0 ordering = p r s if order == 1 ordering = p s r if order == 2 ordering = s p r if order == 3 ordering = s r p if order == 4 ordering = r s p if order == 5 ordering = r p s out = for i in range 3 if ordering i in p out append ordering i return out 		1 21
def rps n r p s order pnext = 2 ** n - 1 - s rnext = 2 ** n - 1 - p snext = 2 ** n - 1 - r if pnext < 0 or rnext < 0 or snext < 0 return impossible if n == 1 if pnext return order2 p r order if rnext return order2 r s order if snext return order2 p s order recurse = rps n - 1 rnext pnext snext order + 1 % 6 if recurse == impossible return impossible else out = for i in recurse out += order2 hands i order return out 		26 51
