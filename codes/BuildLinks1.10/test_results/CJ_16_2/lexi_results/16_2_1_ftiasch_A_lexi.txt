def eliminate matrix n m = len matrix len matrix 0 - 1 for r in xrange m i = r while matrix i r == 0 i += 1 matrix r matrix i = matrix i matrix r s = Fraction matrix r r for j in xrange m + 1 matrix r j /= s for i in xrange n if i != r and matrix i r != 0 s = matrix i r for j in xrange m + 1 matrix i j -= matrix r j * s for i in xrange m n assert matrix i m == 0 return matrix i m for i in xrange m 		3 20
