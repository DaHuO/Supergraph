def find_number S t letters = for _t in range ord A ord Z + 1 letters chr _t = 0 for l in S letters l += 1 original_number = x = 0 while x < 10 and any letters values while x < 10 and any letters values for l in names x if letters l == 0 break else for _l in names x letters _l -= 1 original_number append x continue x += 1 if x == 10 and any letters values x = original_number pop while x == 9 for _l in names x letters _l += 1 x = original_number pop for _l in names x letters _l += 1 x += 1 elif not any letters values print Case #%d: %s % t join str _x for _x in original_number return else raise Exception impossible 		12 48
