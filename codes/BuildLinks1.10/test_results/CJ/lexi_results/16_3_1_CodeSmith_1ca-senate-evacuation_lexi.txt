def run i = 0 alps = abcdefghijklmnopqrstuvwxyz with open input.txt rt as src open output.txt wt as tgt cases = int src readline i = 1 while i <= cases line = src readline rstrip \r\n n = int line ps = src readline rstrip \r\n split  parties = list for j in range 0 n parties append alps j * int ps j cp = copy deepcopy parties output = while true for k in range 0 n pair = cp = sorted copy deepcopy parties key = len reverse = true if len cp k > 0 pair = cp k - 1 cp k = cp k - 1 for m in range 0 n + 1 if m < n and len cp m > 0 pair = pair + cp m - 1 cp m = cp m - 1 cp = sorted cp key = len reverse = true if len cp 0 == len cp 1 parties = cp if output == output = pair else output = output +  + pair break if len cp 0 == len cp 1 break if len cp 0 == 0 break print case #%s: %s % i output tgt write case #%d: %s\n % i output i = i + 1 		4 53
