def fullsolve infilename outfilename t lst = readfileintolist infilename f = open outfilename w for i in range t sol = closematch lst i f write case # + str i + 1 + : + str sol + \n f close 		94 100
def readfileintolist filename with open filename as f content = f readlines contentfixed = c split for c in content 1 t = int content 0 return t contentfixed 		4 9
def solverec c j whowins if c == return if whowins == 1 c = c replace ? 0 j = j replace ? 9 return c j elif whowins == - 1 c = c replace ? 9 j = j replace ? 0 return c j else if c 0 != ? and j 0 != ? if c 0 == j 0 sol = solverec c 1 j 1 0 if c 0 > j 0 sol = solverec c 1 j 1 1 if c 0 < j 0 sol = solverec c 1 j 1 - 1 return c 0 + sol 0 j 0 + sol 1 if c 0 != ? and j 0 == ? sol0 = solverec c 1 j 1 0 c0 j0 = c 0 + sol0 0 c 0 + sol0 1 sol1 = solverec c 1 j 1 1 c1 j1 = c 0 + sol1 0 str int c 0 - 1 + sol1 1 sol2 = solverec c 1 j 1 - 1 c2 j2 = c 0 + sol2 0 str int c 0 + 1 + sol2 1 if c 0 == 0 c1 j1 = 9999999999999999999 0 elif c 0 == 9 c2 j2 = 9999999999999999999 0 m = min abs int c0 - int j0 abs int c1 - int j1 abs int c2 - int j2 if m == abs int c1 - int j1 return c1 j1 elif m == abs int c0 - int j0 return c0 j0 else return c2 j2 if c 0 == ? and j 0 != ? sol0 = solverec c 1 j 1 0 c0 j0 = j 0 + sol0 0 j 0 + sol0 1 sol1 = solverec c 1 j 1 1 c1 j1 = str int j 0 + 1 + sol1 0 j 0 + sol1 1 sol2 = solverec c 1 j 1 - 1 c2 j2 = str int j 0 - 1 + sol2 0 j 0 + sol2 1 if j 0 == 0 c2 j2 = 9999999999999999999 0 elif j 0 == 9 c1 j1 = 9999999999999999999 0 m = min abs int c0 - int j0 abs int c1 - int j1 abs int c2 - int j2 if m == abs int c2 - int j2 return c2 j2 elif m == abs int c0 - int j0 return c0 j0 else return c1 j1 if c 0 == ? and j 0 == ? sol0 = solverec c 1 j 1 0 c0 j0 = 0 + sol0 0 0 + sol0 1 sol1 = solverec c 1 j 1 1 c1 j1 = 1 + sol1 0 0 + sol1 1 sol2 = solverec c 1 j 1 - 1 c2 j2 = 0 + sol2 0 1 + sol2 1 m = min abs int c0 - int j0 abs int c1 - int j1 abs int c2 - int j2 if m == abs int c0 - int j0 return c0 j0 elif m == abs int c2 - int j2 return c2 j2 else return c1 j1 		17 92
def closematch inputlist c j = inputlist 0 inputlist 1 sol = solverec c j 0 return sol 0 +  + sol 1 		11 14
