def evacuate nparties peoplestart npeople = np sum peoplestart people = np array peoplestart out = for i in np arange npeople if np sum people == 0 continue remove = np zeros_like people diff = np abs np diff people if np sum people == 2 args = np transpose np argwhere people != 0 0 remove args = 1 leave = for arg in args leave = leave + d arg + 1 elif np sum diff == 0 args = np transpose np argwhere people != 0 0 if np size args > 2 args = args 2 remove args = 1 leave = for arg in args leave = leave + d arg + 1 else arg = np argmax people remove arg = 1 leave = d arg + 1 people = people - remove assert np sum people / 2.0 >= np max people out = out +  + leave return out 		18 55
