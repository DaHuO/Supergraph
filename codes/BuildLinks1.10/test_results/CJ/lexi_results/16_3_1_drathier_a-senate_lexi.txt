def nxt parties sp = filter lambda x x 0 > 0 sorted parties res = sp - 1 1 sp - 1 0 -= 1 sp = filter lambda x x 0 > 0 sorted sp if len sp != 0 and not len sp == 2 and sp - 1 0 == sp - 2 0 res += sp - 1 1 sp - 1 0 -= 1 return res filter lambda x x 0 > 0 sorted sp 		1 13
def solve parties ordr = while true res parties = nxt parties ordr += res if not parties break return ordr 		16 26
def m global num n = input a = map int raw_input split print case #{0}: {1} format num  join solve map list zip a abcdefghijklmnopqrstuvwxyz num += 1 		35 43
