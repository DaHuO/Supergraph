def max_v s res = 0 for s in s if s == ? res = 10 * res + 9 else res = 10 * res + int s return res 		7 12
def min_v s res = 0 for s in s if s == ? res = 10 * res else res = 10 * res + int s return res 		14 19
def dp i if i == l return 0 0 if i in cache return cache i basis = 10 ** l - i - 1 candidates = if c i == ? and j i == ? candidates append dp i + 1 candidates append max_v c i + 1 basis + min_v j i + 1 candidates append basis + min_v c i + 1 max_v j i + 1 elif c i == ? digit = int j i c1 j1 = dp i + 1 candidates append digit * basis + c1 digit * basis + j1 if digit > 0 candidates append digit - 1 * basis + max_v c i + 1 digit * basis + min_v j i + 1 if digit < 9 candidates append digit + 1 * basis + min_v c i + 1 digit * basis + max_v j i + 1 elif j i == ? digit = int c i c1 j1 = dp i + 1 candidates append digit * basis + c1 digit * basis + j1 if digit > 0 candidates append digit * basis + min_v c i + 1 digit - 1 * basis + max_v j i + 1 if digit < 9 candidates append digit * basis + max_v c i + 1 digit + 1 * basis + min_v j i + 1 elif c i == j i digit = int c i c1 j1 = dp i + 1 candidates append digit * basis + c1 digit * basis + j1 elif c i < j i digit_c = int c i digit_j = int j i candidates append digit_c * basis + max_v c i + 1 digit_j * basis + min_v j i + 1 else digit_c = int c i digit_j = int j i candidates append digit_c * basis + min_v c i + 1 digit_j * basis + max_v j i + 1 current_min res = none none for c j in sorted candidates d = abs c - j if current_min is none or d < current_min current_min = d res = c j cache i = res return res 		27 73
