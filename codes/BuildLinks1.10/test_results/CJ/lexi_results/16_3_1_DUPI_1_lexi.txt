def getw l l = string ascii_uppercase i int x for i x in enumerate l r = while sum x 1 for x in l > 0 l sort key = lambda x x 1 reverse = true l 0 1 -= 1 if isvalid l r append l 0 0 continue l 0 1 += 1 l 0 1 -= 2 if l 0 1 >= 0 and isvalid l r append l 0 0 * 2 continue l 0 1 += 2 l 1 1 -= 1 l 0 1 -= 1 if l 1 1 >= 0 and isvalid l r append l 0 0 + l 1 0 continue l 1 1 += 1 l 0 1 += 1 l 1 1 -= 1 if l 1 1 >= 0 and isvalid l r append l 1 0 continue l 1 1 -= 1 if l 1 1 >= 0 and isvalid l r append l 1 0 * 2 continue else raise exception error return  join r 		17 54
def isvalid l if sum x 1 for x in l == 0 return true return float max x 1 for x in l / sum x 1 for x in l <= 0.5 		11 14
