def add_senate senates_dict key party if key > 0 senates_dict key remove party if not senates_dict key senates_dict pop key new_key = key + 1 if new_key in senates_dict senates_dict new_key append party else senates_dict new_key = party 		13 22
def writeline fout n result print case #%d: %s\n % n result fout write case #%d: %s\n % n result 		78 80
def trace_route n senates escape = senates_dict = n = 0 for i in xrange n if senates i not in senates_dict senates_dict senates i = letters i else senates_dict senates i append letters i n += senates i while senates_dict max_parties_n = max senates_dict keys max_parties = senates_dict max_parties_n escape_step = max_parties 0 remove_senate senates_dict max_parties_n max_parties 0 if not senates_dict break n -= 1 if max_parties test = max_parties 0 else max_parties_n = max senates_dict keys max_parties = senates_dict max_parties_n test = max_parties 0 remove_senate senates_dict max_parties_n test if validate_senate senates_dict n - 1 n -= 1 escape_step += test else add_senate senates_dict max_parties_n - 1 test escape append escape_step return escape 		36 68
def remove_senate senates_dict key party senates_dict key remove party if not senates_dict key senates_dict pop key new_key = key - 1 if new_key == 0 return if new_key in senates_dict senates_dict new_key append party else senates_dict new_key = party 		24 34
def solvecase case f fout n = int f readline strip senates = f readline strip split  for i in xrange len senates senates i = int senates i escape = trace_route n senates writeline fout case  join escape 		70 76
def validate_senate senates_dict n if n == 1 return false half = int ceil n * 1. / 2 if half + 1 in senates_dict return false else return true 		4 11
