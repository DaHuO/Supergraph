def search_result rows cols if none in cols return search_result cols rows ind = rows index none return col ind for col in cols 		101 106
def find_valid_col_inds n rows cols row inds = for i in range n if col_valid n rows cols i row inds append i return inds 		86 91
def rec n lists rows cols depth = 0 if debug print_board n rows cols depth if not lists return search_result rows cols for ind in find_valid_row_inds n rows cols lists 0 if rows ind continue result = rec n lists 1 rows ind + lists 0 + rows ind + 1 cols depth + 1 if result return result else for ind in find_valid_col_inds n rows cols lists 0 if cols ind continue result = rec n lists 1 rows cols ind + lists 0 + cols ind + 1 depth + 1 if result return result else return none 		22 36
def solve n = input lists = for i in range 2 * n - 1 lists append map int raw_input split lists sort rows = lists 0 + none for i in range n - 1 cols = none for i in range n return  join map str rec n lists 1 rows cols 		8 19
def print_board n rows cols indent = 0 grid = none for i in range n for j in range n for i in range n if rows i grid i = rows i else for j in range n if cols j grid i j = cols j i print  print  * indent for j in range n if cols j print  v else print   print for i in range n print  * indent print > if rows i else  for j in range n if grid i j print %4d % grid i j else print  _ print 		109 135
def row_valid n rows cols n row for i r col in enumerate zip row cols if col if col n != r return false for i in range n - 1 - 1 - 1 if rows i for j in range n if rows i j >= row j if debug print invalid row n row return false else break for i in range n n if rows i for j in range n if rows i j <= row j if debug print invalid row2 n row return false else break return true 		40 61
def main t = input for i in range t print case #%d: %s % i + 1 solve 		3 6
def col_valid n rows cols n col for i c row in enumerate zip col rows if row if row n != c return false for i in range n - 1 - 1 - 1 if cols i for j in range n if cols i j >= col j if debug print invalid col n col return false else break for i in range n n if cols i for j in range n if cols i j <= col j if debug print invalid col2 n col return false else break return true 		63 84
def find_valid_row_inds n rows cols col inds = for i in range n if row_valid n rows cols i col inds append i return inds 		94 99
