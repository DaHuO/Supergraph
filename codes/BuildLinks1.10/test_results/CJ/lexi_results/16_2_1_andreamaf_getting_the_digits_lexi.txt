def find last_nr counter phone_nr if sum counter == 0 return phone_nr c = tuple counter if last_nr c in memo return memo last_nr c ans = none for n in xrange last_nr 10 tmp = counter flag = true for i in xrange l tmp i -= e n i if tmp i < 0 flag = false break if flag res = find n tmp phone_nr + n if res is not none ans = res break memo last_nr c = ans return ans 		17 40
def solve t memo clear s = raw_input counter = 0 * l for ch in s counter ord ch - ord a += 1 phone_nr = find 0 counter test = 0 * l for n in phone_nr for i in xrange l test i += e n i assert test == counter phone_nr = join map str phone_nr print case #%d: %s % t phone_nr 		43 60
