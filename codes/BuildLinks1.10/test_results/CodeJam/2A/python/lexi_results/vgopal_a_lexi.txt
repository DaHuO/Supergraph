def play_game string if len string == 1 return True winners = for i in xrange 0 len string 2 letters = sorted string i string i + 1 if string i == string i + 1 return False elif letters == R S winners append R elif letters == P R winners append P else winners append S return play_game join winners 		7 21
def answer N R P S string = R * R + P * P + S * S works = None for permutation in permutations string permutation = join permutation if play_game permutation if works is None or permutation < works works = permutation if works return works return IMPOSSIBLE 		24 34
