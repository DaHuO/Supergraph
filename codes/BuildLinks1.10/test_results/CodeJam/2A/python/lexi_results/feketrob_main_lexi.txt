def finish index solution print solution file_out write Case #{0}: {1}\n format index + 1 solution 		5 9
def solve_test index test_case print Case: [{0}] format test_case N R P S = map int test_case split letters = letters extend R * R letters extend P * P letters extend S * S for p in sorted permutations letters if test_p p finish index join p return finish index IMPOSSIBLE 		35 50
def test_p p if len p == 1 return True operations = operations R R = None operations R P = operations P R = P operations R S = operations S R = R operations S S = None operations S P = operations P S = S operations P P = None next_p = i = 0 while i < len p next_c = operations p i p i + 1 if next_c == None return False next_p += next_c i += 2 return test_p next_p 		11 33
