def solve n r p s if max r p s - min r p s > 1 return IMPOSSIBLE for d in itertools permutations P * p + R * r + S * s c = d ok = True for i in range n res = contest c if not res ok = False break c = res if not ok continue return join d 		9 24
def contest lst r = for i in range len lst / 2 w = winner lst i * 2 lst i * 2 + 1 if w == X return False r append w return r 		37 44
def winner pair if pair == R P return P if pair == P S return S if pair == S R return R return X 		28 35
