def sort_result s if s == IMPOSSIBLE return s if len s == 1 return s a = s len s / 2 b = s len s / 2 x = sort_result a y = sort_result b if x < y return x + y else return y + x 		47 59
def solve R P S if R + P + S == 1 if R == 1 return R elif P == 1 return P elif S == 1 return S a = P + R - S b = R + S - P c = P + S - R if a % 2 != 0 or b % 2 != 0 or c % 2 != 0 return IMPOSSIBLE x = a / 2 y = b / 2 z = c / 2 if x < 0 or y < 0 or z < 0 return IMPOSSIBLE r = solve R - x P - z S - y if r == IMPOSSIBLE return IMPOSSIBLE ret = for c in r if c == R ret += RS elif c == P ret += PR elif c == S ret += PS return ret 		16 45
