def getlongest cycle length friends partofcycle = false * length for el in cycle partofcycle el = true if sum partofcycle > 2 return sum partofcycle pathtoa = 0 pathtob = 0 a = cycle 0 b = cycle 1 for i in range length if i != a and i != b seen2 = false * length seen2 i = true current = friends i - 1 while not seen2 current if current == a pathtoa = max sum seen2 pathtoa break elif current == b pathtob = max sum seen2 pathtob break else seen2 current = true current = friends current - 1 return pathtoa + pathtob + sum partofcycle 		82 110
def goodcycle c f for i in range len c next = c i + 1 % len c prev = c i - 1 curr = c i bff = f curr - 1 if next != bff and prev != bff return false return true 		3 11
def getlongestalt cycle length friends partofcycle = false * length for el in cycle partofcycle el = true if sum partofcycle > 2 return sum partofcycle pathtoa = 0 pathtob = 0 a = cycle 0 b = cycle 1 for i in range length if i != a and i != b seen2 = false * length seen2 i = true current = friends i - 1 while not seen2 current if current == a pathtoa = max sum seen2 pathtoa break elif current == b pathtob = max sum seen2 pathtob break else seen2 current = true current = friends current - 1 return max pathtob pathtoa + sum partofcycle 		51 79
def solve friends partofcycle = false * len friends cycles = for i in range len friends if partofcycle i continue iscycle cycle = findcycle i friends if iscycle cycles append cycle for el in cycle partofcycle el = true maxlength = 0 for cycle in cycles l = getlongest cycle len friends friends maxlength = max l maxlength sumofallcycles = 0 maxpaths = 0 0 for cycle in cycles if len cycle == 2 sumofallcycles += len cycle l = getlongest cycle len friends friends maxpaths append l maxpaths = sorted maxpaths reverse = true return max maxlength sum maxpaths 		113 140
def getlength idx friends seen = false * len friends current = friends idx while not seen current - 1 seen current - 1 = true current = friends current - 1 cycle = for i in range len seen if seen i cycle append i return cycle 		18 31
def findcycle idx friends seen = false * len friends seen idx = true c = idx current = friends idx - 1 while not seen current c append current seen current = true current = friends current - 1 if idx == current return true c else return false 		35 49
