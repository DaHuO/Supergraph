def check_used used kmap for i in xrange len used if kmap used i not in used i - 1 used i + 1 % len used return false return true 		3 7
def find_max used remain kmap if not remain if check_used used kmap return len used else return 0 cmax = 0 if not used for k in list remain cmax = max cmax find_max used + k remain - k kmap elif kmap used - 1 not in remain if check_used used kmap cmax = max cmax len used for k in list remain cmax = max cmax find_max used + k remain - k kmap elif kmap used - 1 in remain cmax = max cmax find_max used + kmap used - 1 remain - kmap used - 1 kmap return cmax 		9 32
def deal_input filename output_name = filename replace .in .out with open filename r as fin open output_name w as fout all = fin read split \n data_num = int all 0 cnt = 0 case = 0 while case < data_num cnt += 1 case += 1 n = int all cnt cnt += 1 kids = map int all cnt split  fout write case #%s: %s\n % case bffs n kids 		44 59
def bffs n kids cmax = 0 used = kmap = for i in xrange n kmap i = kids i - 1 used = remain = set range n return find_max used remain kmap 		34 42
