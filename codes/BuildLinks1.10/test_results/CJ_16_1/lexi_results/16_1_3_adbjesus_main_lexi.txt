def rec i n l c bestie global max if len c > max valid = true for i in range len c if l c i - 1 != c i - 1 % len c and l c i - 1 != c i + 1 % len c valid = false break if valid max = len c if i == n return if bestie == false if l c - 1 - 1 not in c rec i + 1 n l c + l c - 1 - 1 l c - 1 - 1 == c - 1 for j in range len l if l j == c - 1 and j + 1 not in c rec i + 1 n l c + j + 1 true if bestie == true for j in range len l if j + 1 not in c rec i + 1 n l c + j + 1 l j == c - 1 		3 31
def solve global max max = 0 n = input l = int i for i in raw_input split for i in range 1 n + 1 rec 1 n l i true 		33 39
