def main num_cases = int sys stdin readline line_num = 1 while true line = sys stdin readline if not line break line = line strip num_kids = int line bffs = int n for n in sys stdin readline strip split  assert num_kids == len bffs assert_is_numeric_list bffs solution = compute bffs assert_is_numeric solution assert solution <= num_kids print case #%d: %d % line_num solution line_num += 1 assert num_cases == line_num - 1 		5 30
def assert_is_numeric n assert type n in int long 		33 34
def compute bffs num_kids = len bffs kid_ids = range 1 num_kids + 1 for circle_size in xrange num_kids 0 - 1 for circle in itertools permutations kid_ids circle_size if is_valid_circle circle bffs sys stdout flush return circle_size return 0 		55 69
def assert_is_bool_list arr for b in arr assert type b is bool 		46 48
def assert_is_string s assert isinstance s basestring 		37 38
def assert_is_numeric_list arr for n in arr assert_is_numeric n 		41 43
def test pass 		51 52
def is_valid_circle circle bffs circle_size = len circle assert circle_size <= len bffs if circle_size <= 1 return true for i in xrange circle_size kid_id = circle i bff_id = bffs kid_id - 1 left_id = circle i - 1 right_index = i + 1 right_id = circle 0 if right_index == circle_size else circle right_index if left_id != bff_id and right_id != bff_id return false return true 		72 90
