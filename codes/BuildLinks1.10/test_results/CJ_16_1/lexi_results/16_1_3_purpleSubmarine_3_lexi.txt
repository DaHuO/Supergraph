def mytry step cur start global g h ans visited n lst if step > n + 1 return if step > 1 and cur == start if ans < step - 1 ans = step - 1 return if step == 1 nxt = g cur if g nxt == cur visited nxt = 1 else visited nxt = 2 mytry step + 1 nxt start visited nxt = 0 visited cur = 2 for friend in range 1 n + 1 if friend != nxt and friend != cur if friend in h cur visited friend = 1 else visited friend = 2 mytry step + 1 friend start visited friend = 0 return nxt = g cur if visited nxt == 0 or nxt == start if visited nxt == 0 if g nxt == cur visited nxt = 1 else visited nxt = 2 if nxt == start if visited start == 2 and g start != cur return mytry step + 1 nxt start if nxt != start visited nxt = 0 if visited cur == 1 for friend in range 1 n + 1 if friend != nxt and friend != cur if friend != start and visited friend == 0 if friend in h cur visited friend = 1 else visited friend = 2 mytry step + 1 friend start visited friend = 0 if friend == start if visited start != 2 or g start == cur mytry step + 1 friend start return 		7 75
