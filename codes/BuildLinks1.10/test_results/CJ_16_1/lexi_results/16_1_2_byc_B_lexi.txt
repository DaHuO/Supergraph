def tryposition choices if len choices > 0 curchoice = choices - 1 prevchoices = choices - 1 if not dimisok curchoice 0 prevchoices 1 return none elif not dimisok curchoice 1 prevchoices 0 return none if len choices == n return choices nextoption = options len choices single = len nextoption == 1 if single trials = nextoption 0 none none nextoption 0 else trials = nextoption 0 nextoption 1 nextoption 1 nextoption 0 for t in trials x = tryposition choices + t if x is not none return x return none 		82 104
def dimisok col choices rowdim depth = len choices if col is none return true for i choice in enumerate choices row = choice rowdim if row is none continue if col i != row depth return false return true 		69 80
